(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[126,76,81,85,86,87,134,172],{1304:function(e,t,a){!function(e){"use strict";var t="undefined"!==typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},a={weekdays:{shorthand:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],longhand:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],longhand:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},firstDayOfWeek:1,ordinal:function(){return""},time_24hr:!0,rangeSeparator:" - "};t.l10ns.id=a;var n=t.l10ns;e.Indonesian=a,e.default=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)},372:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(6),s=a(2),r=a(34),l=a(25),i=(a(171),a(5)),o=a(80),d=a(64),u=a(771),m=(a(101),a(35)),b=(a(11),a(138),a(146),a(1304),a(45)),j=a(170),p=a(16),g=a(0);t.default=function(e){var t,a,h,O,f=e.show,x=e.setShow,v=e.detailPage,y=e.formState,N=e.setFormState,S=e.currentData,w=void 0===S?null:S,C=Object(o.a)().t,D=Object(r.g)().id,T=Object(p.b)(),k=Object(p.c)((function(e){return e[j.storeName]})),_=Object(s.useContext)(m.a).colors,Y=Object(s.useState)(null),L=Object(c.a)(Y,2),P=(L[0],L[1],Object(s.useState)("Please Wait")),M=Object(c.a)(P,2),A=M[0],F=M[1],I=Object(b.e)({}),E=I.control,B=I.setError,R=I.handleSubmit,J=I.formState.errors,q=function(){return Object(g.jsxs)(s.Fragment,{children:[Object(g.jsx)(u.a,{}),Object(g.jsxs)(i.r,{className:"mb-0 mt-1",children:[C(A),"..."]})]})};function H(e){return Object.keys(e).sort().reduce((function(t,a){return t[a]=e[a],t}),{})}var K=function(){T(Object(j.resetSelectedData)())};return Object(g.jsx)(i.H,{isOpen:f,toggle:function(){K(),x(!f)},className:"modal-dialog-centered modal-lg",children:Object(g.jsxs)(d.a,{blocking:k.isLoadingAddEdit||k.isLoadingDetail,loader:Object(g.jsx)(q,{}),children:[Object(g.jsx)(i.K,{className:"bg-transparent",toggle:function(){K(),x(!f)}}),Object(g.jsxs)(i.I,{className:"px-sm-5 pt-50 pb-5",children:[Object(g.jsxs)("div",{className:"text-center mb-2",children:[Object(g.jsxs)("h2",{className:"mb-1",children:[C("edit"===y?"Edit":"Add")," ",C(j.pageTitle)]}),"edit"!==y?Object(g.jsxs)("p",{children:["Setelah menambahkan data ",C("Unit")," baru, maka pastikan logout dulu akun anda."]}):null]}),Object(g.jsx)(i.z,{onSubmit:R("edit"===y?function(e){if(function(e){if("edit"===y){var t=Object(n.a)({},H(k.selectedData));for(var a in delete t.id,t)a in e||delete t[a];return JSON.stringify(H(t))!==JSON.stringify(H(e))}return!0}(e))if(Object.values(e).every((function(e){return null!==e&&""!==e})))F("".concat(C("Updating")," ").concat(C(j.pageTitle)," ").concat(C("Detail")," Data")),T(Object(j.putData)(e)).then((function(e){if("fulfilled"===e.meta.requestStatus)x(!f),l.b.success("".concat(C("Successfully Updated")," ").concat(C(j.pageTitle)),{style:{padding:"16px",color:_.success.main,border:"1px solid ".concat(_.success.main)},iconTheme:{primary:_.success.main}}),v&&T(Object(j.getDataById)(D));else if("rejected"===e.meta.requestStatus){var t;l.b.error(null===(t=e.payload)||void 0===t?void 0:t.message,{style:{padding:"16px",color:_.danger.main,border:"1px solid ".concat(_.danger.main)},iconTheme:{primary:_.danger.main}})}}));else for(var t in e){var a;0===(null===(a=e[t])||void 0===a?void 0:a.length)&&B(t,{type:"manual"})}else Object(l.b)("".concat(C("You haven't changed anything")),{icon:"\ud83d\udc4f"})}:function(e){if(Object.values(e).every((function(e){return null!==e&&""!==e})))F("".concat(C("Creating a New ".concat(j.pageTitle)))),e.depth=w.depth+1,e.parent_id=w.id,T(Object(j.postData)(e)).then((function(e){console.log(e),"fulfilled"===e.meta.requestStatus?(x(!f),l.b.success("".concat(C("Successfully Created")," ").concat(C(j.pageTitle)),{style:{padding:"16px",color:_.success.main,border:"1px solid ".concat(_.success.main)},iconTheme:{primary:_.success.main}}),v&&T(Object(j.getDataById)(D))):"rejected"===e.meta.requestStatus&&l.b.error(e.payload.message,{style:{padding:"16px",color:_.danger.main,border:"1px solid ".concat(_.danger.main)},iconTheme:{primary:_.danger.main}})}));else for(var t in e){var a;null!==e[t]&&0===(null===(a=e[t])||void 0===a?void 0:a.length)&&B(t,{type:"manual"})}}),children:Object(g.jsxs)(i.V,{className:"gy-1 pt-75",children:[Object(g.jsxs)(i.t,{md:12,xs:12,children:[Object(g.jsxs)(i.F,{className:"form-label",for:"name",children:[C("Name"),Object(g.jsx)("span",{className:"text-danger",children:"*"})]}),Object(g.jsx)(b.a,{defaultValue:null!==(t=null===(a=k.selectedData)||void 0===a?void 0:a.name)&&void 0!==t?t:"",control:E,id:"name",name:"name",render:function(e){var t=e.field;return Object(g.jsx)(i.C,Object(n.a)(Object(n.a)({},t),{},{className:J.name?"form-control is-invalid":"form-control",id:"name",invalid:J.name&&!0}))}})]}),Object(g.jsxs)(i.t,{md:12,xs:12,children:[Object(g.jsxs)(i.F,{className:"form-label",for:"description",children:[C("Code"),Object(g.jsx)("span",{className:"text-danger",children:"*"})]}),Object(g.jsx)(b.a,{defaultValue:null!==(h=null===(O=k.selectedData)||void 0===O?void 0:O.code)&&void 0!==h?h:"",control:E,id:"code",name:"code",render:function(e){var t=e.field;return Object(g.jsx)(i.C,Object(n.a)(Object(n.a)({},t),{},{className:J.code?"form-control is-invalid":"form-control",id:"code",invalid:J.code&&!0}))}})]}),Object(g.jsxs)(i.t,{xs:12,className:"text-center mt-2 pt-50",children:[Object(g.jsx)(i.i,{type:"submit",className:"me-1",color:"primary",children:C("Submit")}),Object(g.jsx)(i.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){K(),N("add"),x(!1)},children:C("Cancel")})]})]})})]})]})})}},787:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(10),s=a(6),r=a(4),l=a(7),i=a.n(l),o=a(2),d=a(80),u=a(43),m=a(372),b=a(11),j=a(170),p=a(193),g=a(16),h=a(172),O=a.n(h),f=a(173),x=a.n(f),v=a(85),y=a.n(v),N=a(470),S=a(466),w=a(560),C=a(563),D=a(559),T=a(250),k=a(64),_=(a(771),a(35)),Y=a(25),L=a(5),P=(a(93),a(106),a(44)),M=a.n(P),A=a(48),F=a.n(A),I=a(87),E=a(94),B=a.n(E),R=a(148),J=a(47),q=a(0),H=F()(M.a),K=Object(o.forwardRef)((function(e,t){return Object(q.jsx)("div",{className:"form-check",children:Object(q.jsx)(L.C,Object(r.a)({type:"checkbox",ref:t},e))})})),U=function(e){e.store;var t=e.toggleSidebar,a=e.handlePerPage,n=e.rowsPerPage,c=e.handleFilter,s=e.searchTerm,r=e.selectedRow,l=e.handleDeleteSelected,i=Object(d.a)().t,m=Object(o.useContext)(u.a),h=Object(g.b)(),O=(Object(g.c)((function(e){return e.invoices})),Object(b.w)());return Object(q.jsx)("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:Object(q.jsxs)(L.V,{children:[Object(q.jsx)(L.t,{xl:"4",className:"d-flex align-items-center p-0",children:Object(q.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(q.jsx)("label",{htmlFor:"rows-per-page",children:i("Show")}),Object(q.jsxs)(L.C,{className:"mx-50",type:"select",id:"rows-per-page",value:n,onChange:a,style:{width:"5rem"},children:[Object(q.jsx)("option",{value:"10",children:"10"}),Object(q.jsx)("option",{value:"25",children:"25"}),Object(q.jsx)("option",{value:"50",children:"50"})]}),Object(q.jsx)("label",{htmlFor:"rows-per-page",children:i("Entries")})]})}),Object(q.jsxs)(L.t,{xl:"8",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[(null===r||void 0===r?void 0:r.length)>0&&m.can("delete",sessionStorage.getItem("current_page_perm"))?Object(q.jsx)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:Object(q.jsxs)(L.i,{className:"delete-users",color:"danger",onClick:l,children:[i("Delete")," ",r.length," ",i("Selected ".concat(j.pageTitle))]})}):null,Object(q.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object(q.jsxs)("label",{className:"mb-0",htmlFor:"search-invoice",children:[i("Search"),":"]}),Object(q.jsx)(L.C,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:s,onChange:function(e){return c(e.target.value)}})]}),Object(q.jsxs)("div",{className:"d-flex align-items-center table-header-actions",children:[Object(q.jsxs)(L.cb,{className:"me-1",children:[Object(q.jsxs)(L.y,{color:"secondary",caret:!0,outline:!0,children:[Object(q.jsx)(N.a,{className:"font-small-4 me-50"}),Object(q.jsx)("span",{className:"align-middle",children:i("Export")})]}),Object(q.jsxs)(L.x,{children:[Object(q.jsxs)(L.w,{className:"w-100",onClick:function(){return h(Object(p.getInvoice)({rpt_name:"sample",output_type:"pdf",dataYear:O.dataYear,print:!0,as_attachment:!0,par_UNITKEY:139,par_SAMPLE:"ahh...ini adalah sample parameter"}))},children:[Object(q.jsx)(S.a,{className:"font-small-4 me-50"}),Object(q.jsx)("span",{className:"align-middle",children:i("Print")})]}),Object(q.jsxs)(L.w,{className:"w-100",onClick:function(){return h(Object(p.getInvoice)({rpt_name:"sample",output_type:"pdf",dataYear:O.dataYear,par_UNITKEY:139,par_SAMPLE:"ahh...ini adalah sample parameter"}))},children:[Object(q.jsx)(w.a,{className:"font-small-4 me-50"}),Object(q.jsx)("span",{className:"align-middle",children:"PDF"})]}),Object(q.jsxs)(L.w,{className:"w-100",onClick:function(){return h(Object(p.getInvoice)({rpt_name:"sample",output_type:"xls",dataYear:O.dataYear,as_attachment:!0,par_UNITKEY:139,par_SAMPLE:"ahh...ini adalah sample parameter"}))},children:[Object(q.jsx)(C.a,{className:"font-small-4 me-50"}),Object(q.jsx)("span",{className:"align-middle",children:"Excel"})]}),Object(q.jsxs)(L.w,{className:"w-100",onClick:function(){return h(Object(p.getInvoice)({rpt_name:"sample",output_type:"csv",dataYear:O.dataYear,as_attachment:!0,par_UNITKEY:139,par_SAMPLE:"ahh...ini adalah sample parameter"}))},children:[Object(q.jsx)(D.a,{className:"font-small-4 me-50"}),Object(q.jsx)("span",{className:"align-middle",children:"CSV"})]})]})]}),m.can("post",sessionStorage.getItem("current_page_perm"))?Object(q.jsxs)(L.i,{className:"add-new-user",color:"primary",onClick:t,children:[i("Add New")," ",i(j.pageTitle)]}):null]})]})]})})};t.default=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return e[j.storeName]})),a=Object(d.a)().t,l=(Object(o.useContext)(u.a),Object(o.useContext)(_.a).colors),p=Object(o.useState)("desc"),h=Object(s.a)(p,2),f=h[0],v=h[1],N=Object(o.useState)(""),S=Object(s.a)(N,2),w=S[0],C=S[1],D=Object(o.useState)(1),P=Object(s.a)(D,2),M=P[0],A=P[1],F=Object(o.useState)("id"),E=Object(s.a)(F,2),V=E[0],G=E[1],W=Object(o.useState)(10),z=Object(s.a)(W,2),Q=z[0],X=z[1],Z=Object(o.useState)([]),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)(!1),ne=Object(s.a)(ae,2),ce=ne[0],se=ne[1],re=Object(o.useState)(!1),le=Object(s.a)(re,2),ie=le[0],oe=le[1],de=Object(o.useState)(!1),ue=Object(s.a)(de,2),me=ue[0],be=ue[1],je=Object(o.useState)("Please Wait"),pe=Object(s.a)(je,2),ge=(pe[0],pe[1]),he=Object(o.useState)(!1),Oe=Object(s.a)(he,2),fe=Oe[0],xe=Oe[1],ve=Object(o.useState)(null),ye=Object(s.a)(ve,2),Ne=ye[0],Se=ye[1],we=function(t){Se("edit"),j.detailFromGrid?(ge("".concat(a("Loading")," ").concat(a("Detail")," ").concat(a("Data")," ").concat(a(j.pageTitle))),be(!0),e(Object(j.setDataById)(t)).then((function(){be(!1),xe(!0)}))):(ge("".concat(a("Loading")," ").concat(a("Detail")," ").concat(a("Data")," ").concat(a(j.pageTitle))),be(!0),e(Object(j.getDataById)(t.id)).then((function(e){"rejected"===e.meta.requestStatus?(be(!1),Y.b.error(e.payload.message,{style:{padding:"16px",color:l.danger.main,border:"1px solid ".concat(l.danger.main)},iconTheme:{primary:l.danger.main}})):(be(!1),xe(!0))})))},Ce=function(){oe(!ie),xe(!fe),Object(b.N)()},De=function(){Se("add"),oe(!ie),xe(!fe),Object(b.G)(Ce)},Te=function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.fire({title:"".concat(a("Are you sure?")),text:"".concat(a("You won't be able to revert")," ").concat(a(j.pageTitle),"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"".concat(a("Yes, Delete")," ").concat(a(j.pageTitle),"!"),cancelButtonText:"".concat(a("Cancel")),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1});case 2:t.sent.value&&(ge("".concat(a("Deleting")," Data ").concat(a(j.pageTitle))),be(!0),e(Object(j.deleteData)(n)).then((function(e){"fulfilled"===e.meta.requestStatus?(be(!1),Y.b.success("".concat(a("Successfully deleted")," ").concat(a(j.pageTitle)),{style:{padding:"16px",color:l.success.main,border:"1px solid ".concat(l.success.main)},iconTheme:{primary:l.success.main}})):"rejected"===e.meta.requestStatus&&(be(!1),Y.b.error(e.payload.message,{style:{padding:"16px",color:l.danger.main,border:"1px solid ".concat(l.danger.main)},iconTheme:{primary:l.danger.main}}))})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ke=function(){var t=Object(c.a)(i.a.mark((function t(){var n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ee.length,t.next=3,H.fire({title:"".concat(a("Are you sure?")),text:"".concat(a("You will delete")," ").concat(n," ").concat(a("selected data. Deleted data cannot be recovered"),"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"".concat(a("Yes, Delete")," ").concat(n," ").concat(a(j.pageTitle),"!"),cancelButtonText:"".concat(a("Cancel")),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1});case 3:t.sent.value&&(ge("".concat(a("Deleting")," ").concat(n," Data ").concat(a(j.pageTitle))),be(!0),c=ee.map((function(e){return e.id})),e(Object(j.deleteSelectedRowData)({id:c})).then((function(e){"fulfilled"===e.meta.requestStatus?(te([]),se(!ce),be(!1),Y.b.success("".concat(a("Successfully deleted")," ").concat(n," ").concat(a(j.pageTitle)),{style:{padding:"16px",color:l.success.main,border:"1px solid ".concat(l.success.main)},iconTheme:{primary:l.success.main}})):"rejected"===e.meta.requestStatus&&(be(!1),Y.b.error(e.payload.message,{style:{padding:"16px",color:l.danger.main,border:"1px solid ".concat(l.danger.main)},iconTheme:{primary:l.danger.main}}))})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_e=Object(o.useCallback)(y()((function(t){e(Object(j.getDataList)({sort_dir:f,search:t,sort:V,page:M,length:Q}))}),500),[]),Ye=Object(o.useCallback)((function(e){te(e.selectedRows)}),[]),Le=[].concat(Object(n.a)(j.dynamicColumns.map((function(e){return{name:e.columnName,sortField:e.fieldName,center:!1,sortable:!0,selector:function(t){return t[e.fieldName]},cell:function(t){return function(e,t){var a=e[t.fieldName],n=t.dataFormat;if(n&&n.includes(":")){var c=n.split(":"),s=c[0],r=c[1],l=e[t.fieldName];return"date"===s&&(l=B()(a).format("DD MMM YYYY"),r&&(l=B()(a).format(r))),"datetime"===s&&(l=B()(a).format("DD MMM YYYY HH:mm"),r&&(l=B()(a).format(r))),l}return e[t.fieldName]}(t,e)}}}))),[{name:a("Actions"),center:!0,width:"140px",cell:function(e){return Object(q.jsx)(R.a,{row:e,handleDelete:Te,handleEdit:we})}}]),Pe=Object(o.useMemo)((function(){return t.isLoading?Le.map((function(e){return Object(r.a)(Object(r.a)({name:a(e.name)},e),{},{sortable:!1,cell:function(t){return Object(q.jsx)(I.a,{sx:{bgcolor:l.dark.light},animation:"wave",className:"Actions"===e.name?"ms-2":"",width:"Actions"===e.name?10:"100%",height:40})}})})):Le.map((function(e){return Object(r.a)({name:a(e.name)},e)}))}),[t.isLoading,Le]);return Object(o.useEffect)((function(){(0===t.data.length||!t.isLoading&&j.getAlwaysGrid)&&(ge("".concat(a("Loading Data")," ").concat(a(j.pageTitle))),e(Object(j.getDataList)({sort_dir:f,sort:V,search:w,page:M,length:Q})))}),[e,t.data.length,f,V,M]),Object(q.jsxs)(o.Fragment,{children:[Object(q.jsx)(k.a,{blocking:me,loader:Object(q.jsx)(J.b,{}),children:Object(q.jsx)(L.l,{className:"overflow-hidden",children:Object(q.jsx)("div",{className:"react-dataTable react-dataTable-selectable-rows",children:Object(q.jsx)(x.a,{noHeader:!0,subHeader:!0,sortServer:!0,responsive:!0,pagination:!0,paginationServer:!0,paginationTotalRows:t.total,paginationComponent:function(){var a=Number(Math.ceil(t.total/Q));return Object(q.jsx)(O.a,{previousLabel:"",nextLabel:"",pageCount:a||1,activeClassName:"active",forcePage:0!==M?M-1:0,onPageChange:function(t){return function(t){e(Object(j.getDataList)({sort_dir:f,sort:V,search:w,length:Q,page:t.selected+1})),A(t.selected+1)}(t)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},selectableRows:!0,onSelectedRowsChange:Ye,selectableRowsHighlight:!0,clearSelectedRows:ce,selectableRowsComponent:K,noDataComponent:Object(q.jsx)(J.c,{}),style:{"min-height":"400px"},highlightOnHover:!0,pointerOnHover:!0,columns:Pe,onSort:function(t,a){v(a),G(t.sortField),e(Object(j.getDataList)({sort_dir:f,sort:V,search:w,page:M,length:Q}))},sortIcon:Object(q.jsx)(T.a,{}),className:"react-dataTable",data:function(){var e={search:w},a=Object.keys(e).some((function(t){return e[t].length>0}));return t.isLoading?Array(10).fill({}):t.data.length>0?t.data:0===t.data.length&&a?[]:void 0}(),subHeaderComponent:Object(q.jsx)(U,{store:t,searchTerm:w,rowsPerPage:Q,handleFilter:function(e){C(e),_e(e)},handlePerPage:function(t){var a=parseInt(t.currentTarget.value);e(Object(j.getDataList)({sort_dir:f,sort:V,search:w,length:a,page:M})),X(a)},toggleSidebar:De,selectedRow:ee,handleDeleteSelected:ke})})})})}),fe&&Object(q.jsx)(m.default,{formState:Ne,show:fe,setShow:De,detailPage:!1,setFormState:Se})]})}}}]);