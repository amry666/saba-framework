{"version":3,"sources":["assets/images/icons/internet.png","views/dashboard/WidgetLastActivity.js"],"names":["WidgetLastActivity","t","useTranslation","store","useSelector","state","storeName","dispatch","useDispatch","useEffect","data","length","isLoading","getAlwaysGrid","getDataList","RenderDetail","rows","row","id_activityCategory","browserObj","Chrome","class","icon","img","chromeLogo","ChromeMobile","Edge","edgeLogo","Firefox","mozillaLogo","Opera","operaLogo","Safari","safariLogo","Others","otherLogo","imgOrIcon","attributes","user_agent","family","replace","Img","Info","className","src","alt","height","os","major","ip","device","model","RenderIcon","size","timeLineData","useMemo","map","title","Skeleton","width","content","meta","metaClassName","customContent","description","name","code","color","locale","fromNow","created_date","style","minHeight","tag","blocking","loader","textAlign"],"mappings":"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","file":"static/js/136.237fbfa9.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAMAAABBJv+bAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHqADAAQAAAABAAAAHAAAAACwgWRlAAABI1BMVEUAAACDi4uCh42Gio6DiYyChoyChoyDh4yDh4uCh4yDh4uDh4uChoyDh4yChouDh4yFiY6Gio+Hi5CKjpKMkJWRlJmTl5uUl5uXmp6Xmp+Ym5+ZnKCanaGcoKSdoKSeoaWhpKijpqmkp6qlqKymqayoq66rrrGytLeytLiztbi0trm3ur24u725vL66vL+6vb++wMK/wcTAwsXBw8bExsjFx8nGx8rGyMrHycvIyczKzM7Lzc/S09XT1NbU1tfX2NrX2drZ2tvZ2tza29zb3N3c3d7c3d/d3t/d3uDg4eLj4+Xk5OXm5+jn6Ono6erp6uvs7e7t7e7t7u/u7u/x8fLy8/Pz9PT19fX39/f4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7////BHwLlAAAADnRSTlMAITE/VIG+x9jZ7PLz+smRHRAAAAEUSURBVCjPhZNnU8JAEIYTINXwil3ErlGxIQYL9pJILFHBXk7z/3+Fp6cZBG72+XQzz8zO3u67ipKQ0nTLcSxdSyntZEwkmJkWqRr4h6E227SNFux0k82ijWziVRsdsP/qG+iI8dszJIj+TZk2f6YBKd/z0eRa41oHqmX4E5Nnbpgr8Zdbmy3UcqVtQOfaAraifFz2rgrxSFQfioevN1bi8csKYHHtAO774t3J0Sae5x9eio/YOT1oLL1OA47QfZ++d38zg2M/vAj2MXdb9wLWA3SJ4ojY4NNbL1bZepUV0f/RGGXnEMV5a1g+RGUXyIdjU+EAsLfWHSxAtEZ8jBgLMVRqJcRCqTgQYaKiSAWZOgPZEX0Bchw0koyW2TQAAAAASUVORK5CYII=\"","/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable multiline-ternary */\nimport { Fragment, useEffect, useMemo } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\nimport { Row, Col, Card, CardHeader, CardTitle, CardBody } from \"reactstrap\"\nimport StatsHorizontal from \"@components/widgets/stats/StatsHorizontal\"\nimport {\n  User,\n  UserPlus,\n  UserCheck,\n  UserX,\n  List,\n  Activity,\n  Chrome,\n  Lock,\n  Edit3,\n  Trash,\n  PlusCircle,\n  Info\n} from \"react-feather\"\nimport Avatar from \"@components/avatar\"\nimport Timeline from \"@components/timeline\"\nimport AvatarGroup from \"@components/avatar-group\"\nimport {\n  storeName,\n  getAlwaysGrid,\n  getDataList\n} from \"../my-info/store/my_activities\"\nimport { Skeleton } from \"@mui/material\"\n\nimport chromeLogo from \"@src/assets/images/icons/google-chrome.png\"\nimport edgeLogo from \"@src/assets/images/icons/internet-explorer.png\"\nimport mozillaLogo from \"@src/assets/images/icons/mozila-firefox.png\"\nimport safariLogo from \"@src/assets/images/icons/apple-safari.png\"\nimport operaLogo from \"@src/assets/images/icons/opera.png\"\nimport otherLogo from \"@src/assets/images/icons/internet.png\"\n\nimport Moment from \"react-moment\"\nimport \"moment-timezone\"\nimport \"moment/locale/id\"\nimport UILoader from \"@components/ui-loader\"\nimport { NoDataDisplay, Loader } from \"@src/shared/CommonComponents\"\n\nimport jsonImg from \"@src/assets/images/icons/json.png\"\nimport ceo from \"@src/assets/images/avatars/avatar-blank.png\"\nconst WidgetLastActivity = () => {\n  const { t } = useTranslation()\n  const store = useSelector((state) => state[storeName])\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if ((store.data.length === 0 && !store.isLoading) || getAlwaysGrid) {\n      dispatch(getDataList({}))\n    }\n  }, [])\n\n  const RenderDetail = (rows) => {\n    const row = rows.row\n    if (row.id_activityCategory === 1) {\n      const browserObj = {\n        Chrome: {\n          class: \"text-primary\",\n          icon: Chrome,\n          img: chromeLogo\n        },\n        ChromeMobile: {\n          class: \"text-primary\",\n          icon: Chrome,\n          img: chromeLogo\n        },\n        Edge: {\n          class: \"text-primary\",\n          icon: Chrome,\n          img: edgeLogo\n        },\n        Firefox: {\n          class: \"text-primary\",\n          icon: Chrome,\n          img: mozillaLogo\n        },\n        Opera: {\n          class: \"text-primary\",\n          icon: Chrome,\n          img: operaLogo\n        },\n        Safari: {\n          class: \"text-primary\",\n          icon: Chrome,\n          img: safariLogo\n        },\n        Others: {\n          class: \"text-primary\",\n          icon: Chrome,\n          img: otherLogo\n        }\n      }\n\n      const imgOrIcon = row?.attributes?.user_agent?.family?.replace(/ /g, \"\")\n      // console.log(imgOrIcon)\n      const Icon = browserObj[imgOrIcon] ? browserObj[imgOrIcon].icon : Info\n      const Img = browserObj[imgOrIcon]\n        ? browserObj[imgOrIcon].img\n        : browserObj[\"Others\"].img\n      return (\n        <div className=\"d-flex align-items-center\">\n          <img className=\"me-1\" src={Img} alt=\"browser_logo\" height=\"23\" />\n          <span className=\"fw-bolder\">\n            {row?.attributes.user_agent.family} {t(\"on\")}{\" \"}\n            {row?.attributes.os.family} {row?.attributes.os.major} | ip:{\" \"}\n            {row?.attributes.ip} | device: {row?.attributes.device.family}{\" \"}\n            {row?.attributes.device.model}\n          </span>\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"d-flex align-items-center\">\n          {/* <h6 className=\"mb-0\">{row.title}</h6>\n          <span>{row?.attributes?.description}</span> */}\n        </div>\n      )\n    }\n  }\n\n  const RenderIcon = (rows) => {\n    const row = rows.row\n    if (row.id_activityCategory === 1) {\n      return <Lock size={14} />\n    }\n    if (row.id_activityCategory === 2) {\n      return <PlusCircle size={14} />\n    }\n    if (row.id_activityCategory === 3) {\n      return <Edit3 size={14} />\n    }\n    if (row.id_activityCategory === 4) {\n      return <Trash size={14} />\n    } else {\n      return <Info size={14} />\n    }\n  }\n\n  const RenderColor = (row) => {\n    if (row.id_activityCategory === 1) {\n      return \"danger\"\n    }\n    if (row.id_activityCategory === 2) {\n      return \"info\"\n    }\n    if (row.id_activityCategory === 3) {\n      return \"warning\"\n    }\n    if (row.id_activityCategory === 4) {\n      return \"danger\"\n    } else {\n      return \"primary\"\n    }\n  }\n\n  const timeLineData = useMemo(\n    () =>\n      store.isLoading\n        ? store.data.map((data) => ({\n            title: <Skeleton width={100} height={50} />,\n            content: <Skeleton width={200} height={50} />,\n            meta: <Skeleton width={90} height={50} />,\n            metaClassName: \"me-1\",\n            customContent: <Skeleton width={200} height={50} />\n          }))\n        : // Moment(data.created_date).locale(\"id\").format(\"DD MMM YYYY\")\n          store.data.map((data) => ({\n            title: t(data.title),\n            content: `${\n              t(data.attributes?.title) ?? t(data.attributes?.description) ?? \"\"\n            } ${\n              t(data.attributes?.data?.title) ??\n              t(data.attributes?.data?.name) ??\n              data.attributes?.data?.code ??\n              \"\"\n            }`,\n            icon: <RenderIcon row={data} />,\n            color: RenderColor(data),\n            meta: (\n              <Moment locale=\"id\" fromNow>\n                {data.created_date}\n              </Moment>\n            ),\n            metaClassName: \"me-1\",\n            customContent: <RenderDetail row={data} />\n          })),\n    [store.isLoading, store.data]\n  )\n\n  return (\n    <Card style={{ minHeight: \"200px\" }} className=\"card-user-timeline\">\n      <CardHeader>\n        <div className=\"d-flex align-items-center\">\n          <Activity className=\"user-timeline-title-icon\" />\n          <CardTitle tag=\"h4\">{t(\"My Last Activity\")}</CardTitle>\n        </div>\n      </CardHeader>\n      <UILoader blocking={store.isLoading} loader={<Loader />}>\n        <CardBody>\n          {store.data.length > 0 ? (\n            <Timeline className=\"ms-50 mb-0 lastActivity\" data={timeLineData} />\n          ) : (\n            <div style={{ textAlign: \"center\" }} className=\"align-items-center\">\n              <NoDataDisplay />\n            </div>\n          )}\n        </CardBody>\n      </UILoader>\n    </Card>\n  )\n}\n\nexport default WidgetLastActivity\n"],"sourceRoot":""}