(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[157,78],{1726:function(t,n,e){"use strict";e.r(n);var a=e(11),o=e(15),r=e(7),c=e.n(r),i=e(2),l=(e(1501),e(33)),u=e(6),d=e(43),s=e(16),p=e(569),b=e(342),m=e(9),f=e(750),v=e(540),g=e(93),h=e(301),y=e(0),j=Object(i.lazy)((function(){return Promise.all([e.e(0),e.e(59)]).then(e.bind(null,909))})),O=Object(i.lazy)((function(){return Promise.all([e.e(0),e.e(69)]).then(e.bind(null,911))})),x=Object(i.lazy)((function(){return Promise.all([e.e(0),e.e(68)]).then(e.bind(null,913))})),_=Object(i.lazy)((function(){return Promise.all([e.e(0),e.e(60)]).then(e.bind(null,912))})),w=function(t){t.loading;var n,e,a,r=Object(b.a)().layout,c=Object(f.b)(r),d=Object(s.c)((function(t){var n;return null===(n=t.domain_claims)||void 0===n?void 0:n.data})),w=Object(s.c)((function(t){var n;return null===(n=t.domain_claims)||void 0===n?void 0:n.isLoading})),k=Object(i.useState)(!1),I=Object(u.a)(k,2),S=I[0],U=I[1],C=function(){var t=Object(m.y)();return t?Object(m.t)(t.role_name):"/login"},T=function(){return Object(i.useEffect)((function(){if(!w&&d)if(null!==d&&void 0!==d&&d.landing_page_attr){var t,n=null===d||void 0===d?void 0:d.landing_page_attr,e=null!==(t=null===n||void 0===n?void 0:n.gridTheme)&&void 0!==t?t:"naxos";localStorage.setItem("default_theme_public",e);var a=e.includes("_")?e.split("_")[0]:e;localStorage.setItem("default_theme_public_folder",a);var o=e.includes("_")?"_".concat(e.split("_")[1]):"";localStorage.setItem("default_theme_public_suffix",o),localStorage.setItem("domainClaim",JSON.stringify(d)),window.location.href="/website/".concat(a,"/saba").concat(o,".html")}else U(!0)}),[w,d]),w||!d||null!==d&&void 0!==d&&d.landing_page_attr||!S?Object(y.jsx)(y.Fragment,{}):Object(y.jsx)(j,{isPublic:!0})},D=Object(l.i)([{path:"/",index:!0,element:Object(y.jsx)(l.a,{replace:!0,to:C()})},{path:"/login",element:Object(y.jsx)(p.a,{}),children:[{path:"/login",element:Object(y.jsxs)(v.b,{clientId:"1096092734184-n0tcl5abejf0s0r2t4fmoi3qf4fhen76.apps.googleusercontent.com",children:[Object(y.jsx)(x,{})," "]})}]},{path:"/error",element:Object(y.jsx)(p.a,{}),children:[{path:"/error",element:Object(y.jsx)(j,{})},{path:"/error/403",element:Object(y.jsx)(_,{})}]},{path:"/public",element:Object(y.jsx)(T,{})},{path:"*",element:Object(y.jsx)(p.a,{}),children:[{path:"*",element:Object(y.jsx)(g.a,{})}]}].concat(Object(o.a)(c))),E=Object(l.i)([{path:"/",index:!0,element:Object(y.jsx)(l.a,{replace:!0,to:C()})},{path:"/login",element:Object(y.jsx)(p.a,{}),children:[{path:"/login",element:Object(y.jsxs)(v.b,{clientId:"1096092734184-n0tcl5abejf0s0r2t4fmoi3qf4fhen76.apps.googleusercontent.com",children:[Object(y.jsx)(x,{})," "]})}]},{path:"/auth/not-auth",element:Object(y.jsx)(p.a,{}),children:[{path:"/auth/not-auth",element:Object(y.jsx)(_,{})}]},{path:"/error",element:Object(y.jsx)(p.a,{}),children:[{path:"/error",element:Object(y.jsx)(O,{})},{path:"/error/403",element:Object(y.jsx)(_,{})}]},{path:"/public",element:Object(y.jsx)(T,{})},{path:"*",element:Object(y.jsx)(p.a,{}),children:[{path:"*",element:Object(y.jsx)(g.a,{})}]}].concat(Object(o.a)(c)));return(null===(n=h.a.getState())||void 0===n||null===(e=n.my_menu)||void 0===e||null===(a=e.dataMyMenu)||void 0===a?void 0:a.length)>0?D:E},k=e(224),I=e(107);function S(t){t=t.replace("#","");var n=parseInt(t.substring(0,2),16),e=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16);return"rgb(".concat(n,", ").concat(e,", ").concat(a,")")}function U(t){t=t.replace("#","");var n=parseInt(t.substring(0,2),16),e=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16);return"".concat(n,", ").concat(e,", ").concat(a)}function C(t,n,e){if(/^#([0-9a-f]{3}){1,2}$/i.test(t)){var a=function(t){var n=parseInt(t,16);return[n>>16&255,n>>8&255,255&n]}(t=t.substring(1));t="rgb(".concat(a.join(", "),")")}var o=t.match(/\d+/g),r=parseInt(o[0]),c=parseInt(o[1]),i=parseInt(o[2]);return r=Math.floor(r*(100-n)/100),c=Math.floor(c*(100-n)/100),i=Math.floor(i*(100-n)/100),e?"".concat(r,", ").concat(c,", ").concat(i):"rgb(".concat(r,", ").concat(c,", ").concat(i,")")}var T=5,D=10,E=20,M=e(17),A=e(834),N=e(40),L=e.n(N),P=e(204),R=e(1502),B=e(537),z=e(108),F=e(68),H=e(96),q=e(51),J=d.a.ssoAxiosInterceptor,V=Object.keys(R).filter((function(t){return"fas"!==t&&"prefix"!==t})).map((function(t){return R[t]}));P.b.add.apply(P.b,Object(o.a)(V));n.default=function(){var t=Object(F.a)().t,n=Object(s.b)(),e=Object(i.useRef)(!1),o=Object(l.f)(),r=Object(q.a)().skin;var u=window.location.pathname;function d(){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(i.useEffect)((function(){if(null!==Object(m.H)()&&"/error"!==window.location.pathname&&"/public"!==window.location.pathname){var t=null,n=function(){var n=new Date;if(document.hidden)localStorage.setItem("inactive",Date.parse(n)/1e3),clearInterval(t);else if("/chat"===window.location.pathname){var e=sessionStorage.getItem("current");e&&h.a.dispatch(Object(H.selectChat)(e)),h.a.dispatch(Object(H.getChatContacts)())}else{var a=localStorage.getItem("inactive"),o=parseInt(a,10),r=new Date(1e3*o),c=Math.abs(n.getTime()-r.getTime())/1e3;c>=15?(console.log("Fetching data after ".concat(c," seconds of inactivity")),h.a.dispatch(Object(I.e)({unread_count:1})).then((function(t){if(null!==t&&void 0!==t&&t.payload){var n,e,a=null!==(n=null===t||void 0===t||null===(e=t.payload[0])||void 0===e?void 0:e.count_unread)&&void 0!==n?n:0;if(a){var o=a>0&&a<=20?"(".concat(a,")"):"(20+)";document.title="".concat(o," ").concat(document.title.replaceAll(o,"")),d()}}}))):t=setInterval((function(){var e=Math.abs(n.getTime()-r.getTime())/1e3;e>=15&&(console.log("Fetching data after ".concat(e," seconds of inactivity")),h.a.dispatch(Object(I.e)({unread_count:1})).then((function(t){if(null!==t&&void 0!==t&&t.payload){var n,e,a=null!==(n=null===t||void 0===t||null===(e=t.payload[0])||void 0===e?void 0:e.count_unread)&&void 0!==n?n:0;if(a){var o=a>0&&a<=20?"(".concat(a,")"):"(20+)";document.title="".concat(o," ").concat(document.title.replaceAll(o,""))}d()}})),clearInterval(t))}),1e3)}};return document.addEventListener("visibilitychange",n),Object(m.V)(".vertical-layout .main-menu .navigation a",250,r,!0),Object(m.W)(250,r),function(){clearInterval(t),document.removeEventListener("visibilitychange",n)}}}),[]);var b=function(){var t=Object(a.a)(c.a.mark((function t(){var e,a,o,r,i,l,u,d,s,p,b,f,v,g,h,y,j,O,x,_;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=Object(m.y)())||void 0===e||!e.isDeveloper||Object(m.C)()||Object(m.z)()){t.next=21;break}return t.prev=2,o=B.a,r=o.slice(0,4),i=o.slice(4,6),l=o.slice(6,8),u=o.slice(9,11),d=o.slice(11,13),s="".concat(r,"-").concat(i,"-").concat(l,"T").concat(u,":").concat(d,":00.000Z"),p=new Date(s),t.next=13,J({method:"post",url:"/fe_ver"});case 13:b=t.sent,(f=null===b||void 0===b||null===(a=b.data)||void 0===a?void 0:a.data)&&(v=null===f||void 0===f?void 0:f.date)&&(g=null===v||void 0===v?void 0:v.replace(/:\d{2}Z$/,":00Z"),h=new Date(g),y=new Date(h.getTime()+252e5),j=y.toISOString(),O="".concat(j.slice(0,10).replace(/-/g,""),"-").concat(j.slice(11,16).replace(":","")),x=new Date(j),(_=function(){return(x-p)/1e3/60>10}())&&n(Object(z.b)({state:_,lastVer:O,currentVer:o}))),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),console.error(t.t0);case 21:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(){return t.apply(this,arguments)}}(),f=Object(i.useRef)([]);return Object(i.useEffect)((function(){return e.current||(navigator.onLine?n(Object(k.b)({isPublic:"/public"===window.location.pathname})).then((function(n){var e;if("rejected"===(null===n||void 0===n||null===(e=n.meta)||void 0===e?void 0:e.requestStatus))console.error("Not Registered"),L.a.fire({icon:"error",title:t("Connection Failed!"),position:"top",text:t("There is a problem connecting to the server or this app is not yet registered with Saba SSO."),confirmButtonText:t("Refresh"),customClass:{confirmButton:"btn btn-primary"},timer:25e3,timerProgressBar:!0}).then((function(t){(t.isConfirmed||t.dismiss===L.a.DismissReason.timer)&&location.reload()}));else if("/public"!==window.location.pathname){var a,r=null===(a=n.payload)||void 0===a?void 0:a.landing_page_attr,c=Object(m.y)();if("public"!==(null===r||void 0===r?void 0:r.defaultRoute)||"/"!==u||c){var i,l,d,s,p,v,g,y,j,O,x,_,w,k,N,P,R,B,z,F,H,q,J,V,Z,G,W,Y,$,K,Q,X=null===(i=n.payload)||void 0===i||null===(l=i.app)||void 0===l?void 0:l.logo;if(null!==X&&void 0!==X&&X.favicon||null!==(d=n.payload)&&void 0!==d&&null!==(s=d.unit)&&void 0!==s&&null!==(p=s.unit_app_attributes)&&void 0!==p&&p.favicon)document.getElementById("favicon").href=null!==(Y=null===($=n.payload)||void 0===$||null===(K=$.unit)||void 0===K||null===(Q=K.unit_app_attributes)||void 0===Q?void 0:Q.favicon)&&void 0!==Y?Y:X.favicon;var tt,nt,et,at,ot,rt,ct,it=null!==(v=null===(g=n.payload)||void 0===g||null===(y=g.unit)||void 0===y||null===(j=y.unit_app_attributes)||void 0===j||null===(O=j.layout)||void 0===O?void 0:O.primaryColor)&&void 0!==v?v:null===(x=n.payload)||void 0===x||null===(_=x.app)||void 0===_||null===(w=_.setting)||void 0===w?void 0:w.primaryColor,lt=null!==(k=null===(N=n.payload)||void 0===N||null===(P=N.unit)||void 0===P||null===(R=P.unit_app_attributes)||void 0===R||null===(B=R.layout)||void 0===B?void 0:B.secondaryColor)&&void 0!==k?k:null===(z=n.payload)||void 0===z||null===(F=z.app)||void 0===F||null===(H=F.setting)||void 0===H?void 0:H.secondaryColor;if(it){!function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("replace root style begin...");var e=document.documentElement.style;e.setProperty("--bs-primary-rgb","".concat(t)),e.setProperty("--primary-color","".concat(t)),n&&e.setProperty("--secondary-color","".concat(n)),console.log("replace root style end..."),console.log("replace head style begin..."),S(t);var a=U(t),o=n?U(n):null,r=document.createElement("style");r.textContent="\n  :root { \n    --primary-color: ".concat(t," !important;\n    --bs-primary-rgb: ").concat(a," !important;\n    --primary-color-lightest: rgba(").concat(a,", 0.03) !important;\n    --primary-color-lighter: rgba(").concat(a,", 0.1) !important;\n    --primary-color-light: rgba(").concat(a,", 0.5) !important;\n    --primary-color-semi-light: rgba(").concat(a,", 0.8) !important;\n    --secondary-color: ").concat(n," !important;\n  }\n\n  /* BTN-PRIMARY */\n  .btn-primary {\n    border-color: ").concat(t," !important;\n    background-color: ").concat(t," !important;\n  }\n  .btn-primary:focus,\n  .btn-primary:active,\n  .btn-primary.active {\n    background-color: ").concat(C(a,T)," !important;\n  }\n  .btn-primary:hover:not(.disabled):not(:disabled) {\n    box-shadow: 0 8px 25px -8px rgba(").concat(a,", 1);\n  }   \n\n  /* BTN-GRADIENT */\n  .btn-gradient-primary {\n    background-image: linear-gradient(47deg, ").concat(t,", ").concat(null!==n&&void 0!==n?n:C(a,D),");border: unset;\n  }\n  .btn-gradient-primary:focus,.btn-gradient-primary:active,.btn-gradient-primary.active {\n    background-image: linear-gradient(47deg, ").concat(C(a,D),", ").concat(null!==n&&void 0!==n?n:t,") !important;\n  }\n  .dark-layout.btn-gradient-primary {\n    background-image: linear-gradient(47deg, ").concat(C(a,D),", ").concat(null!==n&&void 0!==n?n:t,");\n    border: unset;\n  }\n\n  /* BTN-OUTLINE */\n  .btn-outline-primary {\n    border: 1px solid ").concat(t," !important;\n    color: ").concat(t,";\n  }\n  .btn-outline-primary:hover:not(.disabled):not(:disabled) {\n    background-color: rgba(").concat(a,", 0.04) !important;\n    color: ").concat(t,";\n  }\n  .btn-outline-primary:not(:disabled):not(.disabled):focus {\n    background-color: rgba(").concat(a,", 0.2) !important;\n    color: ").concat(t,";\n  }\n  .btn-outline-primary:not(:disabled):not(.disabled):active, .btn-outline-primary:not(:disabled):not(.disabled).active, .btn-outline-primary:not(:disabled):not(.disabled):focus {\n      background-color: rgba(").concat(a,", 0.2) !important;\n      color: ").concat(t,";\n  }\n\n  /* BTN-FLAT */\n  .btn-flat-primary {\n    color: ").concat(t,";\n  }\n  .btn-flat-primary:hover {\n    color: ").concat(t,";\n  }\n  .btn-flat-primary:hover:not(.disabled):not(:disabled) {\n    background-color: rgba(").concat(a,", 0.12);\n  }\n  .btn-flat-primary:active,\n  .btn-flat-primary.active,\n  .btn-flat-primary:focus {\n    background-color: rgba(").concat(a,", 0.2);\n    color: ").concat(t,";\n  }\n\n  /* BTN-RELIEF */\n  .btn-relief-primary {\n    background-color: ").concat(t,";\n  }\n  \n  .btn-relief-primary:active,\n  .btn-relief-primary.active,\n  .btn-relief-primary:focus {\n    background-color: ").concat(C(a,T)," !important;\n  }\n\n  .btn-relief-primary:hover:not(.disabled):not(:disabled) {\n    background-color: ").concat(t,";\n  }\n\n  /* PAGINATION */\n  .page-item.active .page-link {\n    background-color: ").concat(t,";\n  }\n\n  /* MENU */\n  .vertical-layout .main-menu .navigation a.active {\n      background: linear-gradient(118deg, ").concat(t,", rgba(").concat(null!==o&&void 0!==o?o:a,", 0.7));\n      box-shadow: 0 0 10px 1px rgba(").concat(a,", 0.7);\n  }\n  .main-menu.menu-dark .navigation > li ul .active {\n    background: linear-gradient(118deg, ").concat(t,", rgba(").concat(null!==o&&void 0!==o?o:a,", 0.7));\n    box-shadow: 0 0 10px 1px rgba(").concat(a,", 0.7);\n  }\n\n  .main-menu.menu-light .navigation > li ul .active {\n    background: linear-gradient(118deg, ").concat(t,", rgba(").concat(null!==o&&void 0!==o?o:a,", 0.7));\n    box-shadow: 0 0 10px 1px rgba(").concat(a,", 0.7);\n  }\n\n  /* COMMON */\n  a {\n    color: ").concat(t,";\n  }\n\n  .nav-link {\n    color: ").concat(t,";\n  }\n\n  .text-primary {\n    color: rgba(").concat(a,", 1) !important;\n  }\n\n  .bg-primary {\n    background-color: rgba(").concat(a,", 1) !important;\n  }\n\n  .bg-light-primary:not(.avatar) {\n    background: rgba(").concat(C(t,E,!0),", 0.12) !important;\n    color: ").concat(t," !important;\n}\n  \n  .customizer .customizer-toggle {\n    background: ").concat(t,";\n  }\n\n  .dropdown.show.dropdown-item.active:hover {\n    color: ").concat(t,";\n  }\n\n  .dropdown-item.active, .dropdown-item:active {\n    background-color: ").concat(t,";\n}\n\n  .nav-link:after {\n    background: linear-gradient(30deg, rgba(").concat(t,", 1), rgba(").concat(t,", 0.5)) !important;\n  }\n  .nav-link.active {\n    color: ").concat(t,";\n  }\n  .avatar.bg-light-primary {\n    color: ").concat(t," !important;\n  }\n  .form-check-input:checked {\n    background-color: ").concat(t,";\n    border-color: ").concat(t,";\n  }\n  .alert-primary {\n    background: rgba(").concat(a,", 0.12) !important;\n    color: ").concat(t," !important;\n  }\n  .nav-tabs .nav-link.active {\n    position: relative;\n    color: ").concat(t,";\n  }\n  .nav-tabs .nav-link:after {\n    background: linear-gradient(30deg,").concat(t,",rgba(").concat(a,",.5))!important;\n  }\n  .dark-layout .nav-tabs .nav-item .nav-link.active, .dark-layout .nav-pills .nav-item .nav-link.active, .dark-layout .nav-tabs.nav-justified .nav-item .nav-link.active {\n    color: ").concat(t,";\n  }\n\n  .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button) {\n    border-color: ").concat(t," !important;\n    color: ").concat(t," !important;\n  }\n  .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button).fc-button-active, .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button):hover {\n    background-color: rgba(").concat(a,", 0.2) !important;\n    border-color: ").concat(t," !important;\n    color: ").concat(t," !important;\n  }\n\n  .select__menu .select__menu-list .select__option--is-focused,\n  .react-select__menu .react-select__menu-list .react-select__option--is-focused {\n    background-color: rgba(").concat(a,", 0.12) !important;\n    color: ").concat(t," !important;\n  }\n\n  .select__menu .select__menu-list .select__option--is-selected,\n  .react-select__menu .react-select__menu-list .react-select__option--is-selected {\n    background-color: ").concat(t," !important;\n    color: #fff !important;\n  }\n\n  .select__option--is-focused, .react-select__option--is-focused {\n    background-color: rgba(").concat(a,", 0.12) !important;\n    color: ").concat(t," !important;\n  }\n\n  .select__option--is-selected, .react-select__option--is-selected {\n    background-color: ").concat(t," !important;\n    color: #fff !important;\n  }\n\n  .select__control--is-focused,.react-select__control--is-focused {\n    border-color:").concat(t," !important;\n  }\n\n  .form-check-primary .form-check-input {\n    &:checked {\n      border-color: ").concat(t," !important;\n      background-color: ").concat(t," !important;\n    }\n    &:not(:disabled) {\n      &:checked,\n      &:focus {\n        border-color: ").concat(t," !important;\n      }\n    }\n  }\n"),document.head.appendChild(r),console.log("replace head style end...")}(it,lt);var ut=setTimeout((function(){!function(t){console.log("replace head style late begin...");var n=U(t),e=document.createElement("style");e.textContent="\n      .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button).fc-button-active, .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button):hover {\n        background-color: rgba(".concat(n,", 0.2) !important;\n        border-color: ").concat(t," !important;\n        color: ").concat(t," !important;\n      }\n    "),document.head.appendChild(e),console.log("replace head style late end...")}(it)}),500);f.current.push(ut)}if("/error"!==window.location.pathname)if(null!==Object(m.H)())h.a.dispatch(Object(M.getAppMenu)({})).then((function(t){var n;if("rejected"!==(null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.requestStatus)){h.a.dispatch(Object(A.getUnits)({}));var e=setTimeout((function(){h.a.dispatch(Object(I.e)({unread_count:1})).then((function(t){if(null!==t&&void 0!==t&&t.payload){var n,e,a=null!==(n=null===t||void 0===t||null===(e=t.payload[0])||void 0===e?void 0:e.count_unread)&&void 0!==n?n:0;if(a){var o=a>0&&a<=20?"(".concat(a,")"):"(20+)";document.title="".concat(o," ").concat(document.title.replaceAll(o,""))}}}))}),2e3);f.current.push(e);var a=setTimeout((function(){b()}),45e3);f.current.push(a)}else localStorage.setItem("lastUrl",window.location.href),o("/error")}));else if("/login"===window.location.pathname&&-1===(null===(tt=window.location.pathname)||void 0===tt?void 0:tt.indexOf("/public"))||"/reset-password"===window.location.pathname||"/forgot-password"===window.location.pathname||"/register"===window.location.pathname)"/reset-password"===window.location.pathname?o(window.location.pathname+window.location.search):"/forgot-password"===window.location.pathname?o("/forgot-password"):"/register"===window.location.pathname&&(null!==(nt=n.payload)&&void 0!==nt&&null!==(et=nt.app)&&void 0!==et&&null!==(at=et.setting)&&void 0!==at&&at.enable_registration||null!==(ot=n.payload)&&void 0!==ot&&null!==(rt=ot.unit)&&void 0!==rt&&null!==(ct=rt.unit_app_attributes)&&void 0!==ct&&ct.enable_registration)?o("/register"):o("/login");else o("/login");var dt=null===(q=n.payload)||void 0===q||null===(J=q.app)||void 0===J||null===(V=J.setting)||void 0===V?void 0:V.extraHead;if(dt){var st=document.createElement("template");st.innerHTML=dt.trim();var pt=st.content.firstChild;if(!pt)return;document.head.appendChild(pt)}var bt=null===(Z=n.payload)||void 0===Z||null===(G=Z.app)||void 0===G||null===(W=G.setting)||void 0===W?void 0:W.extraStyle;if(bt){var mt=document.createElement("style");mt.type="text/css",mt.id="__extraStyle__",mt.textContent=bt,document.head.appendChild(mt)}}else o("/public")}})):(console.error("Offline"),L.a.fire({icon:"error",title:"You are not connected to internet",text:"Please check your connection to the internet.",confirmButtonText:"Refresh",customClass:{confirmButton:"btn btn-primary"}}).then((function(t){t.isConfirmed&&location.reload()})))),function(){e.current=!0,f.current.forEach((function(t){return clearTimeout(t)})),f.current=[]}}),[n]),Object(y.jsx)(i.Suspense,{fallback:Object(y.jsx)(g.a,{}),children:Object(y.jsx)(w,{})})}},834:function(t,n,e){"use strict";e.r(n),e.d(n,"setUnitSelectedDropdown",(function(){return s})),e.d(n,"getUnits",(function(){return p})),e.d(n,"getUnit",(function(){return b})),e.d(n,"addUnit",(function(){return m})),e.d(n,"deleteUnit",(function(){return f})),e.d(n,"MyUnitsSlice",(function(){return v}));var a=e(4),o=e(11),r=e(7),c=e.n(r),i=e(18),l=e(43),u=e(9),d={value:"",label:"Select Unit"},s=Object(i.b)("Units/setUnitSelectedDropdown",(function(t){return t})),p=Object(i.b)("Units/getUnits",function(){var t=Object(o.a)(c.a.mark((function t(n,e){var a,o,r,i,d,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.rejectWithValue,n.flat_mode=!0,null===Object(u.H)()){t.next=38;break}return t.next=5,JSON.parse(localStorage.getItem("userData")).member_of;case 5:if(t.t1=o=t.sent,t.t0=null!==t.t1,!t.t0){t.next=9;break}t.t0=void 0!==o;case 9:if(!t.t0){t.next=13;break}t.t2=o,t.next=14;break;case 13:t.t2=[];case 14:if(!((r=t.t2).length>0)){t.next=28;break}if(i=!1,r.some((function(t){return t.children_count>0}))&&(i=!0),!i){t.next=25;break}return t.next=21,l.a.ssoAxiosInterceptor.get("/api/unit",{params:n});case 21:return d=t.sent,t.abrupt("return",{params:n,data:d.data.data,total:d.data.total});case 25:return t.abrupt("return",{data:r});case 26:t.next=38;break;case 28:return t.prev=28,t.next=31,l.a.ssoAxiosInterceptor.get("/api/unit",{params:n});case 31:return s=t.sent,t.abrupt("return",{params:n,data:s.data.data,total:s.data.total});case 35:return t.prev=35,t.t3=t.catch(28),t.abrupt("return",a(t.t3.response.data));case 38:case"end":return t.stop()}}),t,null,[[28,35]])})));return function(n,e){return t.apply(this,arguments)}}()),b=Object(i.b)("Units/getUnit",function(){var t=Object(o.a)(c.a.mark((function t(n){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/unit/".concat(n));case 2:return e=t.sent,t.abrupt("return",e.data.data);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),m=Object(i.b)("Units/addUnit",function(){var t=Object(o.a)(c.a.mark((function t(n,e){var a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.dispatch,o=e.getState,t.next=3,axios.post("/api/unit",n);case 3:return t.next=5,a(p(o().units.params));case 5:return t.next=7,a(getAllUnit());case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()),f=Object(i.b)("Units/deleteUnit",function(){var t=Object(o.a)(c.a.mark((function t(n,e){var a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.dispatch,o=e.getState,t.next=3,axios.delete("/apps/unit",{id:n});case 3:return t.next=5,a(p(o().units.params));case 5:return t.next=7,a(getAllUnit());case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()),v=Object(i.c)({name:"Units",initialState:{crudTitle:"Unit",statusSummary:0,isLoadingSummary:!1,errorSummary:0,dataSummary:[],status:0,isLoading:!1,error:0,data:[],total:1,dataDropdown:[],selectedUnit:{},selectedUnitMulti:[]},reducers:{setUnitSelected:function(t,n){return console.log("setUnitSelected"),Object(a.a)(Object(a.a)({},t),{},{selectedUnit:n.payload})},resetAll:function(t){t.data=[],t.dataDropdown=[],t.total=1,t.selectedUnit=null,t.selectedUnitMulti=null}},extraReducers:function(t){t.addCase(s.fulfilled,(function(t,n){return console.log("setUnitSelectedDropdown"),Object(a.a)(Object(a.a)({},t),{},{selectedUnit:n.payload})})).addCase(p.pending,(function(t){t.status="loading",t.isLoading=!0})).addCase(p.fulfilled,(function(t,n){var e,a;(t.status="succeeded",t.isLoading=!1,null!==(e=n.payload)&&void 0!==e&&e.data)&&(t.data=n.payload.data,t.dataDropdown=n.payload.data.map((function(t){return{value:t.id,label:t.name}})),t.dataDropdown.unshift(d),null!==(a=n.payload)&&void 0!==a&&a.total&&(t.total=n.payload.total),t.selectedUnit=t.dataDropdown[0])})).addCase(p.rejected,(function(t,n){t.status="failed",t.isLoading=!1,t.error=n.error.message})).addCase(b.fulfilled,(function(t,n){t.selectedUnit=n.payload}))}});n.default=v.reducer}}]);