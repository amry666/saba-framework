(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[157,78],{1726:function(t,n,e){"use strict";e.r(n);var a=e(11),o=e(15),r=e(7),c=e.n(r),i=e(2),l=(e(1501),e(33)),u=e(43),d=e(16),s=e(568),p=e(342),b=e(9),m=e(750),f=e(539),v=e(93),g=e(301),h=e(0),y=Object(i.lazy)((function(){return Promise.all([e.e(0),e.e(59)]).then(e.bind(null,909))})),j=Object(i.lazy)((function(){return Promise.all([e.e(0),e.e(69)]).then(e.bind(null,911))})),x=Object(i.lazy)((function(){return Promise.all([e.e(0),e.e(68)]).then(e.bind(null,913))})),O=Object(i.lazy)((function(){return Promise.all([e.e(0),e.e(60)]).then(e.bind(null,912))})),_=function(t){t.loading;var n,e,a,r=Object(p.a)().layout,c=Object(m.b)(r),u=function(){var t=Object(b.y)();return t?Object(b.t)(t.role_name):"/login"},_=function(){var t=Object(d.c)((function(t){var n;return null===(n=t.domain_claims)||void 0===n?void 0:n.data})),n=Object(d.c)((function(t){var n;return null===(n=t.domain_claims)||void 0===n?void 0:n.isLoading}));return Object(i.useEffect)((function(){if(!n&&t&&null!==t&&void 0!==t&&t.landing_page_attr){var e,a=null===t||void 0===t?void 0:t.landing_page_attr,o=null!==(e=null===a||void 0===a?void 0:a.gridTheme)&&void 0!==e?e:"naxos";localStorage.setItem("default_theme_public",o);var r=o.includes("_")?o.split("_")[0]:o;localStorage.setItem("default_theme_public_folder",r);var c=o.includes("_")?"_".concat(o.split("_")[1]):"";localStorage.setItem("default_theme_public_suffix",c),window.location.href="/website/".concat(r,"/saba").concat(c,".html")}}),[n,t]),Object(h.jsx)(h.Fragment,{})},w=Object(l.i)([{path:"/",index:!0,element:Object(h.jsx)(l.a,{replace:!0,to:u()})},{path:"/login",element:Object(h.jsx)(s.a,{}),children:[{path:"/login",element:Object(h.jsxs)(f.b,{clientId:"1096092734184-n0tcl5abejf0s0r2t4fmoi3qf4fhen76.apps.googleusercontent.com",children:[Object(h.jsx)(x,{})," "]})}]},{path:"/error",element:Object(h.jsx)(s.a,{}),children:[{path:"/error",element:Object(h.jsx)(y,{})},{path:"/error/403",element:Object(h.jsx)(O,{})}]},{path:"/public",element:Object(h.jsx)(_,{})},{path:"*",element:Object(h.jsx)(s.a,{}),children:[{path:"*",element:Object(h.jsx)(v.a,{})}]}].concat(Object(o.a)(c))),k=Object(l.i)([{path:"/",index:!0,element:Object(h.jsx)(l.a,{replace:!0,to:u()})},{path:"/login",element:Object(h.jsx)(s.a,{}),children:[{path:"/login",element:Object(h.jsxs)(f.b,{clientId:"1096092734184-n0tcl5abejf0s0r2t4fmoi3qf4fhen76.apps.googleusercontent.com",children:[Object(h.jsx)(x,{})," "]})}]},{path:"/auth/not-auth",element:Object(h.jsx)(s.a,{}),children:[{path:"/auth/not-auth",element:Object(h.jsx)(O,{})}]},{path:"/error",element:Object(h.jsx)(s.a,{}),children:[{path:"/error",element:Object(h.jsx)(j,{})},{path:"/error/403",element:Object(h.jsx)(O,{})}]},{path:"/public",element:Object(h.jsx)(_,{})},{path:"*",element:Object(h.jsx)(s.a,{}),children:[{path:"*",element:Object(h.jsx)(v.a,{})}]}].concat(Object(o.a)(c)));return(null===(n=g.a.getState())||void 0===n||null===(e=n.my_menu)||void 0===e||null===(a=e.dataMyMenu)||void 0===a?void 0:a.length)>0?w:k},w=e(264),k=e(107);function I(t){t=t.replace("#","");var n=parseInt(t.substring(0,2),16),e=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16);return"rgb(".concat(n,", ").concat(e,", ").concat(a,")")}function U(t){t=t.replace("#","");var n=parseInt(t.substring(0,2),16),e=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16);return"".concat(n,", ").concat(e,", ").concat(a)}function S(t,n,e){if(/^#([0-9a-f]{3}){1,2}$/i.test(t)){var a=function(t){var n=parseInt(t,16);return[n>>16&255,n>>8&255,255&n]}(t=t.substring(1));t="rgb(".concat(a.join(", "),")")}var o=t.match(/\d+/g),r=parseInt(o[0]),c=parseInt(o[1]),i=parseInt(o[2]);return r=Math.floor(r*(100-n)/100),c=Math.floor(c*(100-n)/100),i=Math.floor(i*(100-n)/100),e?"".concat(r,", ").concat(c,", ").concat(i):"rgb(".concat(r,", ").concat(c,", ").concat(i,")")}var C=5,T=10,D=20,E=e(17),M=e(834),A=e(40),L=e.n(A),N=e(204),B=e(1502),P=e(536),R=e(108),z=e(68),F=e(96),H=e(51),q=u.a.ssoAxiosInterceptor,V=Object.keys(B).filter((function(t){return"fas"!==t&&"prefix"!==t})).map((function(t){return B[t]}));N.b.add.apply(N.b,Object(o.a)(V));n.default=function(){var t=Object(z.a)().t,n=Object(d.b)(),e=Object(i.useRef)(!1),o=Object(l.f)(),r=Object(H.a)().skin;function u(){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(i.useEffect)((function(){if(null!==Object(b.H)()&&"/error"!==window.location.pathname&&"/public"!==window.location.pathname){var t=null,n=function(){var n=new Date;if(document.hidden)localStorage.setItem("inactive",Date.parse(n)/1e3),clearInterval(t);else if("/chat"===window.location.pathname){var e=sessionStorage.getItem("current");e&&g.a.dispatch(Object(F.selectChat)(e)),g.a.dispatch(Object(F.getChatContacts)())}else{var a=localStorage.getItem("inactive"),o=parseInt(a,10),r=new Date(1e3*o),c=Math.abs(n.getTime()-r.getTime())/1e3;c>=15?(console.log("Fetching data after ".concat(c," seconds of inactivity")),g.a.dispatch(Object(k.e)({unread_count:1})).then((function(t){if(null!==t&&void 0!==t&&t.payload){var n,e,a=null!==(n=null===t||void 0===t||null===(e=t.payload[0])||void 0===e?void 0:e.count_unread)&&void 0!==n?n:0;if(a){var o=a>0&&a<=20?"(".concat(a,")"):"(20+)";document.title="".concat(o," ").concat(document.title.replaceAll(o,"")),u()}}}))):t=setInterval((function(){var e=Math.abs(n.getTime()-r.getTime())/1e3;e>=15&&(console.log("Fetching data after ".concat(e," seconds of inactivity")),g.a.dispatch(Object(k.e)({unread_count:1})).then((function(t){if(null!==t&&void 0!==t&&t.payload){var n,e,a=null!==(n=null===t||void 0===t||null===(e=t.payload[0])||void 0===e?void 0:e.count_unread)&&void 0!==n?n:0;if(a){var o=a>0&&a<=20?"(".concat(a,")"):"(20+)";document.title="".concat(o," ").concat(document.title.replaceAll(o,""))}u()}})),clearInterval(t))}),1e3)}};return document.addEventListener("visibilitychange",n),Object(b.V)(".vertical-layout .main-menu .navigation a",250,r,!0),Object(b.W)(250,r),function(){clearInterval(t),document.removeEventListener("visibilitychange",n)}}}),[]);var p=function(){var t=Object(a.a)(c.a.mark((function t(){var e,a,o,r,i,l,u,d,s,p,m,f,v,g,h,y,j,x,O,_;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=Object(b.y)())||void 0===e||!e.isDeveloper){t.next=21;break}return t.prev=2,o=P.a,r=o.slice(0,4),i=o.slice(4,6),l=o.slice(6,8),u=o.slice(9,11),d=o.slice(11,13),s="".concat(r,"-").concat(i,"-").concat(l,"T").concat(u,":").concat(d,":00.000Z"),p=new Date(s),t.next=13,q({method:"post",url:"/fe_ver"});case 13:m=t.sent,(f=null===m||void 0===m||null===(a=m.data)||void 0===a?void 0:a.data)&&(v=null===f||void 0===f?void 0:f.date)&&(g=null===v||void 0===v?void 0:v.replace(/:\d{2}Z$/,":00Z"),h=new Date(g),y=new Date(h.getTime()+252e5),j=y.toISOString(),x="".concat(j.slice(0,10).replace(/-/g,""),"-").concat(j.slice(11,16).replace(":","")),O=new Date(j),(_=function(){return(O-p)/1e3/60>10}())&&n(Object(R.b)({state:_,lastVer:x,currentVer:o}))),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),console.error(t.t0);case 21:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(){return t.apply(this,arguments)}}(),m=Object(i.useRef)([]);return Object(i.useEffect)((function(){return e.current||(navigator.onLine?n(Object(w.b)({})).then((function(n){var e;if("rejected"===(null===n||void 0===n||null===(e=n.meta)||void 0===e?void 0:e.requestStatus))console.error("Not Registered"),L.a.fire({icon:"error",title:t("Connection Failed!"),position:"top",text:t("There is a problem connecting to the server or this app is not yet registered with Saba SSO."),confirmButtonText:t("Refresh"),customClass:{confirmButton:"btn btn-primary"},timer:25e3,timerProgressBar:!0}).then((function(t){(t.isConfirmed||t.dismiss===L.a.DismissReason.timer)&&location.reload()}));else if("/public"!==window.location.pathname){var a,r,c,i,l,u,d,s,f,v,h,y,j,x,O,_,w,A,N,B,P,R,z,F,H,q,V,J,Z,G,W,Y=null===(a=n.payload)||void 0===a||null===(r=a.app)||void 0===r?void 0:r.logo;if(null!==Y&&void 0!==Y&&Y.favicon||null!==(c=n.payload)&&void 0!==c&&null!==(i=c.unit)&&void 0!==i&&null!==(l=i.unit_app_attributes)&&void 0!==l&&l.favicon)document.getElementById("favicon").href=null!==(J=null===(Z=n.payload)||void 0===Z||null===(G=Z.unit)||void 0===G||null===(W=G.unit_app_attributes)||void 0===W?void 0:W.favicon)&&void 0!==J?J:Y.favicon;var $,K,Q,X,tt,nt,et,at=null!==(u=null===(d=n.payload)||void 0===d||null===(s=d.unit)||void 0===s||null===(f=s.unit_app_attributes)||void 0===f||null===(v=f.layout)||void 0===v?void 0:v.primaryColor)&&void 0!==u?u:null===(h=n.payload)||void 0===h||null===(y=h.app)||void 0===y||null===(j=y.setting)||void 0===j?void 0:j.primaryColor,ot=null!==(x=null===(O=n.payload)||void 0===O||null===(_=O.unit)||void 0===_||null===(w=_.unit_app_attributes)||void 0===w||null===(A=w.layout)||void 0===A?void 0:A.secondaryColor)&&void 0!==x?x:null===(N=n.payload)||void 0===N||null===(B=N.app)||void 0===B||null===(P=B.setting)||void 0===P?void 0:P.secondaryColor;if(at){!function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("replace root style begin...");var e=document.documentElement.style;e.setProperty("--bs-primary-rgb","".concat(t)),e.setProperty("--primary-color","".concat(t)),n&&e.setProperty("--secondary-color","".concat(n)),console.log("replace root style end..."),console.log("replace head style begin..."),I(t);var a=U(t),o=n?U(n):null,r=document.createElement("style");r.textContent="\n  :root { \n    --primary-color: ".concat(t," !important;\n    --bs-primary-rgb: ").concat(a," !important;\n    --primary-color-lightest: rgba(").concat(a,", 0.03) !important;\n    --primary-color-lighter: rgba(").concat(a,", 0.1) !important;\n    --primary-color-light: rgba(").concat(a,", 0.5) !important;\n    --primary-color-semi-light: rgba(").concat(a,", 0.8) !important;\n    --secondary-color: ").concat(n," !important;\n  }\n\n  /* BTN-PRIMARY */\n  .btn-primary {\n    border-color: ").concat(t," !important;\n    background-color: ").concat(t," !important;\n  }\n  .btn-primary:focus,\n  .btn-primary:active,\n  .btn-primary.active {\n    background-color: ").concat(S(a,C)," !important;\n  }\n  .btn-primary:hover:not(.disabled):not(:disabled) {\n    box-shadow: 0 8px 25px -8px rgba(").concat(a,", 1);\n  }   \n\n  /* BTN-GRADIENT */\n  .btn-gradient-primary {\n    background-image: linear-gradient(47deg, ").concat(t,", ").concat(null!==n&&void 0!==n?n:S(a,T),");border: unset;\n  }\n  .btn-gradient-primary:focus,.btn-gradient-primary:active,.btn-gradient-primary.active {\n    background-image: linear-gradient(47deg, ").concat(S(a,T),", ").concat(null!==n&&void 0!==n?n:t,") !important;\n  }\n  .dark-layout.btn-gradient-primary {\n    background-image: linear-gradient(47deg, ").concat(S(a,T),", ").concat(null!==n&&void 0!==n?n:t,");\n    border: unset;\n  }\n\n  /* BTN-OUTLINE */\n  .btn-outline-primary {\n    border: 1px solid ").concat(t," !important;\n    color: ").concat(t,";\n  }\n  .btn-outline-primary:hover:not(.disabled):not(:disabled) {\n    background-color: rgba(").concat(a,", 0.04) !important;\n    color: ").concat(t,";\n  }\n  .btn-outline-primary:not(:disabled):not(.disabled):focus {\n    background-color: rgba(").concat(a,", 0.2) !important;\n    color: ").concat(t,";\n  }\n  .btn-outline-primary:not(:disabled):not(.disabled):active, .btn-outline-primary:not(:disabled):not(.disabled).active, .btn-outline-primary:not(:disabled):not(.disabled):focus {\n      background-color: rgba(").concat(a,", 0.2) !important;\n      color: ").concat(t,";\n  }\n\n  /* BTN-FLAT */\n  .btn-flat-primary {\n    color: ").concat(t,";\n  }\n  .btn-flat-primary:hover {\n    color: ").concat(t,";\n  }\n  .btn-flat-primary:hover:not(.disabled):not(:disabled) {\n    background-color: rgba(").concat(a,", 0.12);\n  }\n  .btn-flat-primary:active,\n  .btn-flat-primary.active,\n  .btn-flat-primary:focus {\n    background-color: rgba(").concat(a,", 0.2);\n    color: ").concat(t,";\n  }\n\n  /* BTN-RELIEF */\n  .btn-relief-primary {\n    background-color: ").concat(t,";\n  }\n  \n  .btn-relief-primary:active,\n  .btn-relief-primary.active,\n  .btn-relief-primary:focus {\n    background-color: ").concat(S(a,C)," !important;\n  }\n\n  .btn-relief-primary:hover:not(.disabled):not(:disabled) {\n    background-color: ").concat(t,";\n  }\n\n  /* PAGINATION */\n  .page-item.active .page-link {\n    background-color: ").concat(t,";\n  }\n\n  /* MENU */\n  .vertical-layout .main-menu .navigation a.active {\n      background: linear-gradient(118deg, ").concat(t,", rgba(").concat(null!==o&&void 0!==o?o:a,", 0.7));\n      box-shadow: 0 0 10px 1px rgba(").concat(a,", 0.7);\n  }\n  .main-menu.menu-dark .navigation > li ul .active {\n    background: linear-gradient(118deg, ").concat(t,", rgba(").concat(null!==o&&void 0!==o?o:a,", 0.7));\n    box-shadow: 0 0 10px 1px rgba(").concat(a,", 0.7);\n  }\n\n  .main-menu.menu-light .navigation > li ul .active {\n    background: linear-gradient(118deg, ").concat(t,", rgba(").concat(null!==o&&void 0!==o?o:a,", 0.7));\n    box-shadow: 0 0 10px 1px rgba(").concat(a,", 0.7);\n  }\n\n  /* COMMON */\n  a {\n    color: ").concat(t,";\n  }\n\n  .nav-link {\n    color: ").concat(t,";\n  }\n\n  .text-primary {\n    color: rgba(").concat(a,", 1) !important;\n  }\n\n  .bg-primary {\n    background-color: rgba(").concat(a,", 1) !important;\n  }\n\n  .bg-light-primary:not(.avatar) {\n    background: rgba(").concat(S(t,D,!0),", 0.12) !important;\n    color: ").concat(t," !important;\n}\n  \n  .customizer .customizer-toggle {\n    background: ").concat(t,";\n  }\n\n  .dropdown.show.dropdown-item.active:hover {\n    color: ").concat(t,";\n  }\n\n  .dropdown-item.active, .dropdown-item:active {\n    background-color: ").concat(t,";\n}\n\n  .nav-link:after {\n    background: linear-gradient(30deg, rgba(").concat(t,", 1), rgba(").concat(t,", 0.5)) !important;\n  }\n  .nav-link.active {\n    color: ").concat(t,";\n  }\n  .avatar.bg-light-primary {\n    color: ").concat(t," !important;\n  }\n  .form-check-input:checked {\n    background-color: ").concat(t,";\n    border-color: ").concat(t,";\n  }\n  .alert-primary {\n    background: rgba(").concat(a,", 0.12) !important;\n    color: ").concat(t," !important;\n  }\n  .nav-tabs .nav-link.active {\n    position: relative;\n    color: ").concat(t,";\n  }\n  .nav-tabs .nav-link:after {\n    background: linear-gradient(30deg,").concat(t,",rgba(").concat(a,",.5))!important;\n  }\n  .dark-layout .nav-tabs .nav-item .nav-link.active, .dark-layout .nav-pills .nav-item .nav-link.active, .dark-layout .nav-tabs.nav-justified .nav-item .nav-link.active {\n    color: ").concat(t,";\n  }\n\n  .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button) {\n    border-color: ").concat(t," !important;\n    color: ").concat(t," !important;\n  }\n  .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button).fc-button-active, .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button):hover {\n    background-color: rgba(").concat(a,", 0.2) !important;\n    border-color: ").concat(t," !important;\n    color: ").concat(t," !important;\n  }\n\n  .select__menu .select__menu-list .select__option--is-focused,\n  .react-select__menu .react-select__menu-list .react-select__option--is-focused {\n    background-color: rgba(").concat(a,", 0.12) !important;\n    color: ").concat(t," !important;\n  }\n\n  .select__menu .select__menu-list .select__option--is-selected,\n  .react-select__menu .react-select__menu-list .react-select__option--is-selected {\n    background-color: ").concat(t," !important;\n    color: #fff !important;\n  }\n\n  .select__option--is-focused, .react-select__option--is-focused {\n    background-color: rgba(").concat(a,", 0.12) !important;\n    color: ").concat(t," !important;\n  }\n\n  .select__option--is-selected, .react-select__option--is-selected {\n    background-color: ").concat(t," !important;\n    color: #fff !important;\n  }\n\n  .select__control--is-focused,.react-select__control--is-focused {\n    border-color:").concat(t," !important;\n  }\n\n  .form-check-primary .form-check-input {\n    &:checked {\n      border-color: ").concat(t," !important;\n      background-color: ").concat(t," !important;\n    }\n    &:not(:disabled) {\n      &:checked,\n      &:focus {\n        border-color: ").concat(t," !important;\n      }\n    }\n  }\n"),document.head.appendChild(r),console.log("replace head style end...")}(at,ot);var rt=setTimeout((function(){!function(t){console.log("replace head style late begin...");var n=U(t),e=document.createElement("style");e.textContent="\n      .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button).fc-button-active, .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button):hover {\n        background-color: rgba(".concat(n,", 0.2) !important;\n        border-color: ").concat(t," !important;\n        color: ").concat(t," !important;\n      }\n    "),document.head.appendChild(e),console.log("replace head style late end...")}(at)}),500);m.current.push(rt)}if("/error"!==window.location.pathname)if(null!==Object(b.H)())g.a.dispatch(Object(E.getAppMenu)({})).then((function(t){var n;if("rejected"!==(null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.requestStatus)){g.a.dispatch(Object(M.getUnits)({}));var e=setTimeout((function(){g.a.dispatch(Object(k.e)({unread_count:1})).then((function(t){if(null!==t&&void 0!==t&&t.payload){var n,e,a=null!==(n=null===t||void 0===t||null===(e=t.payload[0])||void 0===e?void 0:e.count_unread)&&void 0!==n?n:0;if(a){var o=a>0&&a<=20?"(".concat(a,")"):"(20+)";document.title="".concat(o," ").concat(document.title.replaceAll(o,""))}}}))}),2e3);m.current.push(e);var a=setTimeout((function(){p()}),45e3);m.current.push(a)}else localStorage.setItem("lastUrl",window.location.href),o("/error")}));else if("/login"===window.location.pathname&&-1===(null===($=window.location.pathname)||void 0===$?void 0:$.indexOf("/public"))||"/reset-password"===window.location.pathname||"/forgot-password"===window.location.pathname||"/register"===window.location.pathname)"/reset-password"===window.location.pathname?o(window.location.pathname+window.location.search):"/forgot-password"===window.location.pathname?o("/forgot-password"):"/register"===window.location.pathname&&(null!==(K=n.payload)&&void 0!==K&&null!==(Q=K.app)&&void 0!==Q&&null!==(X=Q.setting)&&void 0!==X&&X.enable_registration||null!==(tt=n.payload)&&void 0!==tt&&null!==(nt=tt.unit)&&void 0!==nt&&null!==(et=nt.unit_app_attributes)&&void 0!==et&&et.enable_registration)?o("/register"):o("/login");else o("/login");var ct=null===(R=n.payload)||void 0===R||null===(z=R.app)||void 0===z||null===(F=z.setting)||void 0===F?void 0:F.extraHead;if(ct){var it=document.createElement("template");it.innerHTML=ct.trim();var lt=it.content.firstChild;if(!lt)return;document.head.appendChild(lt)}var ut=null===(H=n.payload)||void 0===H||null===(q=H.app)||void 0===q||null===(V=q.setting)||void 0===V?void 0:V.extraStyle;if(ut){var dt=document.createElement("style");dt.type="text/css",dt.id="__extraStyle__",dt.textContent=ut,document.head.appendChild(dt)}}})):(console.error("Offline"),L.a.fire({icon:"error",title:"You are not connected to internet",text:"Please check your connection to the internet.",confirmButtonText:"Refresh",customClass:{confirmButton:"btn btn-primary"}}).then((function(t){t.isConfirmed&&location.reload()})))),function(){e.current=!0,m.current.forEach((function(t){return clearTimeout(t)})),m.current=[]}}),[n]),Object(h.jsx)(i.Suspense,{fallback:Object(h.jsx)(v.a,{}),children:Object(h.jsx)(_,{})})}},834:function(t,n,e){"use strict";e.r(n),e.d(n,"setUnitSelectedDropdown",(function(){return s})),e.d(n,"getUnits",(function(){return p})),e.d(n,"getUnit",(function(){return b})),e.d(n,"addUnit",(function(){return m})),e.d(n,"deleteUnit",(function(){return f})),e.d(n,"MyUnitsSlice",(function(){return v}));var a=e(4),o=e(11),r=e(7),c=e.n(r),i=e(18),l=e(43),u=e(9),d={value:"",label:"Select Unit"},s=Object(i.b)("Units/setUnitSelectedDropdown",(function(t){return t})),p=Object(i.b)("Units/getUnits",function(){var t=Object(o.a)(c.a.mark((function t(n,e){var a,o,r,i,d,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.rejectWithValue,n.flat_mode=!0,null===Object(u.H)()){t.next=38;break}return t.next=5,JSON.parse(localStorage.getItem("userData")).member_of;case 5:if(t.t1=o=t.sent,t.t0=null!==t.t1,!t.t0){t.next=9;break}t.t0=void 0!==o;case 9:if(!t.t0){t.next=13;break}t.t2=o,t.next=14;break;case 13:t.t2=[];case 14:if(!((r=t.t2).length>0)){t.next=28;break}if(i=!1,r.some((function(t){return t.children_count>0}))&&(i=!0),!i){t.next=25;break}return t.next=21,l.a.ssoAxiosInterceptor.get("/api/unit",{params:n});case 21:return d=t.sent,t.abrupt("return",{params:n,data:d.data.data,total:d.data.total});case 25:return t.abrupt("return",{data:r});case 26:t.next=38;break;case 28:return t.prev=28,t.next=31,l.a.ssoAxiosInterceptor.get("/api/unit",{params:n});case 31:return s=t.sent,t.abrupt("return",{params:n,data:s.data.data,total:s.data.total});case 35:return t.prev=35,t.t3=t.catch(28),t.abrupt("return",a(t.t3.response.data));case 38:case"end":return t.stop()}}),t,null,[[28,35]])})));return function(n,e){return t.apply(this,arguments)}}()),b=Object(i.b)("Units/getUnit",function(){var t=Object(o.a)(c.a.mark((function t(n){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/unit/".concat(n));case 2:return e=t.sent,t.abrupt("return",e.data.data);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),m=Object(i.b)("Units/addUnit",function(){var t=Object(o.a)(c.a.mark((function t(n,e){var a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.dispatch,o=e.getState,t.next=3,axios.post("/api/unit",n);case 3:return t.next=5,a(p(o().units.params));case 5:return t.next=7,a(getAllUnit());case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()),f=Object(i.b)("Units/deleteUnit",function(){var t=Object(o.a)(c.a.mark((function t(n,e){var a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.dispatch,o=e.getState,t.next=3,axios.delete("/apps/unit",{id:n});case 3:return t.next=5,a(p(o().units.params));case 5:return t.next=7,a(getAllUnit());case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()),v=Object(i.c)({name:"Units",initialState:{crudTitle:"Unit",statusSummary:0,isLoadingSummary:!1,errorSummary:0,dataSummary:[],status:0,isLoading:!1,error:0,data:[],total:1,dataDropdown:[],selectedUnit:{},selectedUnitMulti:[]},reducers:{setUnitSelected:function(t,n){return console.log("setUnitSelected"),Object(a.a)(Object(a.a)({},t),{},{selectedUnit:n.payload})},resetAll:function(t){t.data=[],t.dataDropdown=[],t.total=1,t.selectedUnit=null,t.selectedUnitMulti=null}},extraReducers:function(t){t.addCase(s.fulfilled,(function(t,n){return console.log("setUnitSelectedDropdown"),Object(a.a)(Object(a.a)({},t),{},{selectedUnit:n.payload})})).addCase(p.pending,(function(t){t.status="loading",t.isLoading=!0})).addCase(p.fulfilled,(function(t,n){var e,a;(t.status="succeeded",t.isLoading=!1,null!==(e=n.payload)&&void 0!==e&&e.data)&&(t.data=n.payload.data,t.dataDropdown=n.payload.data.map((function(t){return{value:t.id,label:t.name}})),t.dataDropdown.unshift(d),null!==(a=n.payload)&&void 0!==a&&a.total&&(t.total=n.payload.total),t.selectedUnit=t.dataDropdown[0])})).addCase(p.rejected,(function(t,n){t.status="failed",t.isLoading=!1,t.error=n.error.message})).addCase(b.fulfilled,(function(t,n){t.selectedUnit=n.payload}))}});n.default=v.reducer}}]);