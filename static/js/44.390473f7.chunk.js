(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[44,126],{1319:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(2),o=a(16),i=a(67),r=a(847),l=a(836),d=a(837),s=a(5),u=a(188),p=a(1318),b=(a(1319),a(252)),j=a(402),h=a(84),f=a(0);t.default=function(e){var t,a,m=e.lookupMode,g=void 0!==m&&m,O=e.lookupMode_fieldName,x=void 0===O?"":O,_=e.lookupMode_dropdown,k=void 0!==_&&_,v=e.lookupMode_isMulti,M=void 0!==v&&v,y=e.lookupMode_onChange,S=e.lookupMode_defaultValue,D=(e.lookupMode_isM2MDefValFromGrid,Object(i.a)().t),N=Object(o.b)(),w=Object(o.c)((function(e){return e[j.storeName]})),C=Object(c.useState)(""),T=Object(n.a)(C,2),F=T[0];T[1];Object(c.useEffect)((function(){var e;j.getApiSummaryData&&(0===(null===(e=w.dataSummary)||void 0===e?void 0:e.length)||!w.isLoadingSummary&&j.getAlwaysGrid)&&N(Object(j.getSummaryData)({}))}),[N,null===(t=w.dataSummary)||void 0===t?void 0:t.length]);var L=["primary","success","warning","danger","info","secondary"];return k?Object(f.jsx)(d.default,{lookupMode_fieldName:x,lookupMode_onChange:y,lookupMode_defaultValue:S,lookupMode_isMulti:M,lookupMode_isM2MDefValFromGrid:!0}):Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)("div",{className:"content-header row",children:!g&&Object(f.jsx)(b.a,{title:D(j.pageTitle),data:[{title:D("App Setting")},{title:D(j.pageTitle)}]})}),Object(f.jsxs)("div",{className:"app-user-list",children:[!g&&j.getApiSummaryData&&Object(f.jsx)(s.Z,{children:null===(a=w.dataSummary)||void 0===a?void 0:a.map((function(e,t){var a;return Object(f.jsx)(s.t,{children:Object(f.jsx)(u.a,{color:L[t],statTitle:"".concat(D(e.title)),icon:e.icon?Object(f.jsx)(p.a,{baseClassName:"material-icons-outlined",fontSize:"20",children:e.icon}):Object(f.jsx)(p.a,{baseClassName:"material-icons-outlined",fontSize:"20",children:"lightbulb"}),renderStats:w.isLoadingSummary?Object(f.jsx)(h.a,{sx:{bgcolor:"#eef2f8"},animation:"wave",height:25,width:40,className:"fw-bolder mb-75"}):Object(f.jsx)("h3",{className:"fw-bolder mb-75",children:null!==(a=e.count_format)&&void 0!==a?a:e.count})})})}))}),j.isTreeLayout?Object(f.jsx)(l.default,{searchString:F,lookupMode:g,lookupMode_fieldName:x,lookupMode_defaultValue:S,lookupMode_onChange:y,lookupMode_isMulti:M,lookupMode_isM2MDefValFromGrid:!0}):Object(f.jsx)(r.default,{lookupMode:g,lookupMode_fieldName:x,lookupMode_defaultValue:S,lookupMode_onChange:y,lookupMode_isMulti:M,lookupMode_isM2MDefValFromGrid:!0})]})]})}},836:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a(6),o=a(7),i=a.n(o),r=a(2),l=a(67),d=a(44),s=a(405),u=a(8),p=a(402),b=(a(218),a(16)),j=(a(138),a(149),a(70),a(283)),h=a(600),f=a(627),m=a(48),g=(a(833),a(36)),O=a(25),x=a(5),_=a(41),k=a.n(_),v=a(49),M=a.n(v),y=(a(95),a(105),a(305)),S=a(37),D=a(0),N=M()(k.a);t.default=function(e){var t=e.searchString,a=e.lookupMode,o=e.lookupMode_fieldName,_=e.lookupMode_defaultValue,k=e.lookupMode_onChange,v=e.lookupMode_isMulti,M=e.lookupMode_isM2MDefValFromGrid,w=Object(b.b)(),C=Object(b.c)((function(e){return e[p.storeName]})),T=Object(l.a)().t,F=Object(r.useState)(!1),L=Object(c.a)(F,2),A=L[0],V=L[1],G=Object(r.useContext)(d.a),E=Object(r.useState)(!1),B=Object(c.a)(E,2),I=(B[0],B[1]),P=Object(r.useState)("Please Wait"),z=Object(c.a)(P,2),J=(z[0],z[1]),q=Object(r.useState)(!1),R=Object(c.a)(q,2),W=R[0],Q=R[1],U=Object(r.useState)(null),Y=Object(c.a)(U,2),Z=Y[0],H=Y[1],K=Object(r.useState)(null),X=Object(c.a)(K,2),$=X[0],ee=X[1],te=Object(r.useState)(0),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],oe=Object(r.useState)(null),ie=Object(c.a)(oe,2),re=(ie[0],ie[1]),le=Object(r.useContext)(g.a).colors,de=function(){var e=Object(n.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.fire({title:"".concat(T("Are you sure?")),text:"".concat(T("You won't be able to revert")," ").concat(T(p.pageTitle),"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"".concat(T("Yes, Delete")," ").concat(T(p.pageTitle),"!"),cancelButtonText:"".concat(T("Cancel")),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1});case 2:e.sent.value&&(J("".concat(T("Deleting")," Data ").concat(T(p.pageTitle))),I(!0),w(Object(p.deleteData)(t)).then((function(e){"fulfilled"===e.meta.requestStatus?(I(!1),O.b.success("".concat(T("Successfully deleted")," ").concat(T(p.pageTitle)),{style:{padding:"16px",color:le.success.main,border:"1px solid ".concat(le.success.main)},iconTheme:{primary:le.success.main}})):"rejected"===e.meta.requestStatus&&(I(!1),O.b.error(e.payload.message,{style:{padding:"16px",color:le.danger.main,border:"1px solid ".concat(le.danger.main)},iconTheme:{primary:le.danger.main}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ee(e),H("add"),V(!A),Q(!W),Object(u.S)(ue)},ue=function(){V(!A),Q(!W),Object(u.db)()},pe=function(e){w(Object(p.setDataList)(e))},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];J("".concat(T("Updating")," ").concat(T(p.pageTitle)," Data")),t&&(e.notReload=!0);var a=e.title;w(Object(p.putData)(e,t)).then((function(e){"fulfilled"===e.meta.requestStatus?O.b.success("".concat(T("Successfully Updated")," ").concat(T(p.pageTitle)," ").concat(a),{style:{padding:"16px",color:le.success.main,border:"1px solid ".concat(le.success.main)},iconTheme:{primary:le.success.main}}):"rejected"===e.meta.requestStatus&&O.b.error(e.payload.message,{style:{padding:"16px",color:le.danger.main,border:"1px solid ".concat(le.danger.main)},iconTheme:{primary:le.danger.main}})}))},je=function(e,t){var a=JSON.parse(JSON.stringify(t));a.forEach((function t(a){e.includes(a.id)&&(a.checked=!0,a.hidden=!0),Array.isArray(a.children)&&a.children.forEach(t)})),w(Object(p.setDataList)(a))};return Object(r.useEffect)((function(){(0===C.data.length||!C.isLoading&&p.getAlwaysGrid)&&(J("".concat(T("Loading Data")," ").concat(T(p.pageTitle))),w(Object(p.getDataList)({})).then((function(e){a&&M&&je(_,e.payload.data)}))),C.data.length>0&&M&&a&&je(_,C.data)}),[w,C.data.length]),Object(D.jsxs)(r.Fragment,{children:[Object(D.jsx)(m.a,{blocking:C.isLoading,loader:Object(D.jsx)(S.b,{}),children:Object(D.jsx)(x.l,{className:"overflow-hidden",children:Object(D.jsx)("div",{className:"react-dataTable react-dataTable-selectable-rows",children:Object(D.jsx)("div",{style:{height:a?350:800,margin:a?10:20},children:Object(D.jsx)(y.a,{treeData:C.data,onChange:pe,onMoveNode:a?null:function(e){e.treeData;var t=e.node,a=e.nextParentNode,n=(e.prevPath,e.prevTreeIndex,e.nextPath,e.nextTreeIndex,{id:t.id,title:t.title,parent_id:a.is_app_header?null:a.id});be(n,!0)},canDrag:!a&&function(e){return!e.node.is_app_header},searchMethod:function(e){var t=e.node,a=e.searchQuery;return a&&t.title.toLowerCase().indexOf(a.toLowerCase())>-1},searchQuery:t,searchFocusOffset:ne,searchFinishCallback:function(e){re(e.length),ce(e.length>0?ne%e.length:0)},maxDepth:4,generateNodeProps:function(e){var t=e.node;e.path;return{style:{fontSize:t.is_app_header?"16px":"14px",fontWeight:t.is_app_header?"bold":"normal"},title:t.icon?Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("div",{style:{paddingLeft:t.is_app_header?0:10,fontWeight:t.is_app_header?"bold":400},children:t.title})}):Object(D.jsx)("div",{style:{fontWeight:t.is_app_header?"bold":400},children:t.title}),buttons:[G.can("post",sessionStorage.getItem("current_page_perm"))&&!a?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(x.i.Ripple,{className:"btn-icon rounded-circle",color:"flat-primary",id:"btn-edit",onClick:function(e){se(t)},children:Object(D.jsx)(j.a,{size:16})}),Object(D.jsx)(x.hb,{placement:"left",target:"btn-edit",children:T("Add Child")})]}):null,!G.can("update",sessionStorage.getItem("current_page_perm"))||a||t.is_app_header?null:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(x.i.Ripple,{className:"btn-icon rounded-circle",color:"flat-info",id:"btn-edit",onClick:function(e){var a;e.preventDefault(),a=t,H("edit"),p.detailFromGrid?(J("".concat(T("Loading")," ").concat(T("Detail")," ").concat(T("Data")," ").concat(T(p.pageTitle))),I(!0),w(Object(p.setDataById)(a)).then((function(){I(!1),Q(!0)}))):(J("".concat(T("Loading")," ").concat(T("Detail")," ").concat(T("Data")," ").concat(T(p.pageTitle))),I(!0),w(Object(p.getDataById)(a.id)).then((function(e){"rejected"===e.meta.requestStatus?(I(!1),O.b.error(e.payload.message,{style:{padding:"16px",color:le.danger.main,border:"1px solid ".concat(le.danger.main)},iconTheme:{primary:le.danger.main}})):(I(!1),Q(!0))})))},children:Object(D.jsx)(h.a,{size:16})}),Object(D.jsx)(x.hb,{placement:"left",target:"btn-edit",children:T("Edit")})]}),!G.can("delete",sessionStorage.getItem("current_page_perm"))||a||t.is_app_header?null:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(x.i.Ripple,{id:"btn-delete",className:"btn-icon rounded-circle",color:"flat-danger",onClick:function(e){e.preventDefault(),de(t.id)},children:Object(D.jsx)(f.a,{size:16})}),Object(D.jsx)(x.hb,{placement:"left",target:"btn-delete",children:T("Delete")})]}),a&&!t.is_app_header?Object(D.jsx)("div",{className:t.hidden?"form-check form-check-secondary":"form-check form-check-primary",children:Object(D.jsx)(x.C,{disabled:t.hidden,defaultChecked:t.checked,onChange:function(e){return function(e,t,a,n){var c=JSON.parse(JSON.stringify(C.data));return c.forEach((function a(n){n.id===t&&(n.checked=e.target.checked),Array.isArray(n.children)&&n.children.forEach(a)})),pe(c),k(t,a,n)}(e,t.id,o,v)},type:"checkbox",id:"checkbox-".concat(t.id)})}):null]}}})})})})}),W&&Object(D.jsx)(s.default,{formState:Z,show:W,setShow:se,detailPage:!1,setFormState:H,currentData:$})]})}},837:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(16),o=a(67),i=(a(1319),a(8)),r=a(13),l=a.n(r),d=a(80),s=a(402),u=a(0);t.default=function(e){var t,a=e.lookupMode_fieldName,r=void 0===a?"":a,p=e.lookupMode_isMulti,b=void 0!==p&&p,j=e.lookupMode_onChange,h=e.lookupMode_defaultValue,f=(Object(o.a)().t,Object(c.b)()),m=Object(c.c)((function(e){return e[s.storeName]}));return Object(n.useEffect)((function(){(0===m.data.length||!m.isLoading&&s.getAlwaysGrid)&&f(Object(s.getDataList)({}))}),[f,m.data.length]),Object(u.jsx)(n.Fragment,{children:Object(u.jsx)(d.a,{theme:i.eb,defaultValue:b?h:m.dataDropdown.filter((function(e){return e.value===h})),isMulti:b,onChange:function(e){return j(e,r)},options:m.dataDropdown,className:l()("react-select",{"is-invalid":null===(null===(t=m.selectedData)||void 0===t?void 0:t.id)}),classNamePrefix:"select"})})}}}]);